{"version":3,"sources":["Home/operate.min.js"],"names":["$","g_active_node","document","on","dir_module_html","html","children","length","first","before","prepend","css","url","attr","src_category","showShCircle","ajax","method","dataType","data","category_name","val","cid","success","jsonData","closeShCircle","flag","window","location","reload","alert","msg","error","empty","this","node_count","tmp","eq","delegate","event","preventDefault"],"mappings":"AAGAA,EAAE,WACEC,cAAgBD,EAAEE,UAClBF,EAAE,mBAAmBG,GAAG,QAAQ,WAC5B,GAAIC,GAAkBJ,EAAE,eAAeK,MACpCL,GAAE,cAAcM,SAAS,MAAMC,OAAS,EACvCP,EAAE,cAAcM,SAAS,MAAME,QAAQC,OAAOL,GAE9CJ,EAAE,cAAcU,QAAQN,GAG5BJ,EAAE,qBAAqBW,IAAI,UAAU,SACrCX,EAAE,qBAAqBW,IAAI,OAAO,QAClCX,EAAE,qBAAqBW,IAAI,MAAM,UAIrCX,EAAE,kCAAkCG,GAAG,QAAQ,WAC3C,GAAIS,GAAMZ,EAAE,gBAAgBa,KAAK,aAC7BC,EAAed,EAAE,SAASa,KAAK,mBAEnCb,GAAEe,aAAa,YACff,EAAEgB,MACEJ,IAAIA,EACJK,OAAO,OACPC,SAAS,OACTC,MACIC,cAAcpB,EAAE,gBAAgBqB,MAChCC,IAAIR,GAERS,QAAQ,SAASC,GAEbxB,EAAEyB,cAAc,YAChBzB,EAAE,qBAAqBW,IAAI,UAAU,QACjB,GAAjBa,EAASE,KAERC,OAAOC,SAASC,UAEhBC,MAAMN,EAASO,KACfJ,OAAOC,SAASC,WAGxBG,MAAM,SAASR,GAEXxB,EAAEyB,cAAc,YAChBzB,EAAE,qBAAqBW,IAAI,UAAU,QACrCgB,OAAOC,SAASC,cAK5B7B,EAAE,yBAAyBG,GAAG,QAAQ,WAClCH,EAAE,cAAcM,SAAS,MAAME,QAAQyB,QACvCjC,EAAE,qBAAqBW,IAAI,UAAU,QACrCgB,OAAOC,SAASC,WAIpB7B,EAAE,wEAAwEG,GAAG,QAAQ,WACjFF,cAAgBD,EAAEkC,MAClBP,OAAOC,SAAW5B,EAAEkC,MAAMrB,KAAK,eASnCb,EAAE,iBAAiBG,GAAG,QAAQ,WAC1BwB,OAAOC,SAAW5B,EAAE,iBAAiBa,KAAK,eAI9Cb,EAAE,iBAAiBG,GAAG,QAAQ,WAC1B,GAAIgC,GAAanC,EAAE,uBAAuBO,MACvC4B,GAAa,IACZA,GAA0B,EAE9B,IAAIC,GAAMpC,EAAE,uBAAuBqC,GAAGF,GAClCvB,EAAMZ,EAAEoC,GAAKvB,KAAK,YACtBc,QAAOC,SAAWhB,IAItBZ,EAAE,6BAA6BsC,SAAS,uBAAuB,QAAQ,SAASC,GAC5EA,EAAMC,iBACNb,OAAOC,SAAW5B,EAAEkC,MAAMrB,KAAK","file":"../../js/Home/operate.min.js","sourcesContent":["/**\r\n * Created by xf.li on 2017/4/18.\r\n */\r\n$(function(){\r\n    g_active_node = $(document);\r\n    $(\"#new-folder-btn\").on(\"click\",function(){\r\n        var dir_module_html = $(\"#dir-module\").html();\r\n        if($(\".list-view\").children(\"dd\").length > 0){\r\n            $(\".list-view\").children(\"dd\").first().before(dir_module_html);\r\n        }else{\r\n            $(\".list-view\").prepend(dir_module_html);\r\n        }\r\n\r\n        $(\".module-edit-name\").css(\"display\",\"block\");\r\n        $(\".module-edit-name\").css(\"left\",\"20px\");\r\n        $(\".module-edit-name\").css(\"top\",\"58px\");\r\n    });\r\n\r\n    //确定创建\r\n    $(\".new-dir-item .sure-to-new-dir\").on(\"click\",function(){\r\n        var url = $(\"#new-dir-box\").attr(\"data-post\");\r\n        var src_category = $(\"#menu\").attr(\"data-category-id\");\r\n        //circle load\r\n        $.showShCircle(\"shCircle\");\r\n        $.ajax({\r\n            url:url,\r\n            method:\"post\",\r\n            dataType:\"json\",\r\n            data:{\r\n                category_name:$(\"#new-dir-box\").val(),\r\n                cid:src_category,//$(\".module-history-list\").attr(\"data-cid\"),\r\n            },\r\n            success:function(jsonData){\r\n                //circle load\r\n                $.closeShCircle(\"shCircle\");\r\n                $(\".module-edit-name\").css(\"display\",\"none\");\r\n                if(jsonData.flag == 1){\r\n                    //alert(jsonData.msg);\r\n                    window.location.reload();\r\n                }else{\r\n                    alert(jsonData.msg);\r\n                    window.location.reload();\r\n                }\r\n            },\r\n            error:function(jsonData){\r\n                //circle load\r\n                $.closeShCircle(\"shCircle\");\r\n                $(\".module-edit-name\").css(\"display\",\"none\");\r\n                window.location.reload();\r\n            }\r\n        });\r\n    });\r\n    //取消创建\r\n    $(\".new-dir-item .cancel\").on(\"click\",function(){\r\n        $(\".list-view\").children(\"dd\").first().empty();\r\n        $(\".module-edit-name\").css(\"display\",\"none\");\r\n        window.location.reload();\r\n    });\r\n\r\n    //文件名点击事件\r\n    $(\".category .filename,.favorites-cat .filename,.software-cat .filename\").on(\"click\",function(){\r\n        g_active_node = $(this);\r\n        window.location = $(this).attr(\"data-jump\");\r\n    });\r\n\r\n    //收藏夹名点击事件\r\n    //$(\".favorites .filename\").on(\"click\",function(){\r\n    //    window.location = $(this).attr(\"data-jump\");\r\n    //});\r\n\r\n    //新建文件\r\n    $(\"#new-file-btn\").on(\"click\",function(){\r\n        window.location = $(\"#new-file-btn\").attr(\"data-jump\");\r\n    });\r\n\r\n    //返回上一级\r\n    $(\"#pre-category\").on(\"click\",function(){\r\n        var node_count = $(\".category-list-node\").length;\r\n        if(node_count > 1){\r\n            node_count = node_count - 2;\r\n        }\r\n        var tmp = $(\".category-list-node\").eq(node_count);\r\n        var url = $(tmp).attr(\"data-jump\");\r\n        window.location = url;\r\n    });\r\n\r\n    //目录路由节点点击\r\n    $(\"#module-list-history > li\").delegate(\".category-route-node\",\"click\",function(event){\r\n        event.preventDefault();\r\n        window.location = $(this).attr(\"data-jump\");\r\n    });\r\n});"]}