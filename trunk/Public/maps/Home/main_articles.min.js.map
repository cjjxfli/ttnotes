{"version":3,"sources":["Home/main_articles.min.js"],"names":["$","validate","rules","user_email","isNeedEmail","verify_email_code","isNeedEmailCode","mobile","isNeedMobile","verify_mobile_code","isNeedMobileCode","messages","submitHandler","form","showShCircle","ajax","url","attr","type","dataType","data","article_title","val","article_key_words","article_from_where","article_abstract","extra_editor","UE","getEditor","getContent","category_id","success","jsonData","closeShCircle","flag","window","location","alert","msg","error","errorContainer","errorLabelContainer","wrapper","errorPlacement","element","appendTo","parent","cid","aid","article_id","on","history","go"],"mappings":"AAGAA,EAAE,WAEEA,EAAE,qBAAqBC,UACnBC,OACIC,YACIC,aAAY,GAEhBC,mBACIC,iBAAgB,GAEpBC,QACIC,cAAa,GAEjBC,oBACIC,kBAAiB,IAGzBC,YAEAC,cAAc,SAASC,GAEnBb,EAAEc,aAAa,YACfd,EAAEe,MACEC,IAAIhB,EAAE,qBAAqBiB,KAAK,UAChCC,KAAK,OACLC,SAAS,OACTC,MACIC,cAAcrB,EAAE,kBAAkBsB,MAClCC,kBAAkBvB,EAAE,sBAAsBsB,MAC1CE,mBAAmBxB,EAAE,uBAAuBsB,MAC5CG,iBAAiBzB,EAAE,qBAAqBsB,MACxCI,aAAaC,GAAGC,UAAU,gBAAgBC,aAC1CC,YAAY9B,EAAE,qBAAqBiB,KAAK,qBAE5Cc,QAAQ,SAASC,GAEbhC,EAAEiC,cAAc,YACI,GAAjBD,EAASE,KACRC,OAAOC,SAAWpC,EAAE,qBAAqBiB,KAAK,aAE9CoB,MAAML,EAASM,MAGvBC,MAAM,SAASP,GACXK,MAAML,GAENhC,EAAEiC,cAAc,gBAI5BO,eAAgB,YAChBC,oBAAqBzC,EAAE,+BACvB0C,QAAS,KACTC,eAAgB,SAASJ,EAAOK,GAC5BL,EAAMM,SAASD,EAAQE,aAK/B9C,EAAE,sBAAsBC,UACpBC,OACIC,YACIC,aAAY,GAEhBC,mBACIC,iBAAgB,GAEpBC,QACIC,cAAa,GAEjBC,oBACIC,kBAAiB,IAGzBC,YAEAC,cAAc,SAASC,GAEnBb,EAAEc,aAAa,WACf,IAAIiC,GAAM/C,EAAE,sBAAsBiB,KAAK,oBACnC+B,EAAMhD,EAAE,sBAAsBiB,KAAK,aACvCjB,GAAEe,MACEC,IAAIhB,EAAE,sBAAsBiB,KAAK,UACjCC,KAAK,OACLC,SAAS,OACTC,MACIC,cAAcrB,EAAE,kBAAkBsB,MAClCC,kBAAkBvB,EAAE,sBAAsBsB,MAC1CE,mBAAmBxB,EAAE,uBAAuBsB,MAC5CG,iBAAiBzB,EAAE,qBAAqBsB,MACxCI,aAAaC,GAAGC,UAAU,gBAAgBC,aAC1CC,YAAYiB,EACZE,WAAWD,GAEfjB,QAAQ,SAASC,GAEbhC,EAAEiC,cAAc,YACI,GAAjBD,EAASE,KACRC,OAAOC,SAAWpC,EAAE,sBAAsBiB,KAAK,aAE/CoB,MAAML,EAASM,MAGvBC,MAAM,SAASP,GACXK,MAAML,GAENhC,EAAEiC,cAAc,gBAI5BO,eAAgB,YAChBC,oBAAqBzC,EAAE,gCACvB0C,QAAS,KACTC,eAAgB,SAASJ,EAAOK,GAC5BL,EAAMM,SAASD,EAAQE,aAK/B9C,EAAE,iBAAiBkD,GAAG,QAAQ,WAC1BC,QAAQC","file":"../../js/Home/main_articles.min.js","sourcesContent":["/**\r\n * Created by xf.li on 2017/4/19.\r\n */\r\n$(function(){\r\n    //提交表单\r\n    $(\"#add-article-form\").validate({\r\n        rules:{\r\n            user_email:{\r\n                isNeedEmail:true,\r\n            },\r\n            verify_email_code:{\r\n                isNeedEmailCode:true,\r\n            },\r\n            mobile:{\r\n                isNeedMobile:true,\r\n            },\r\n            verify_mobile_code:{\r\n                isNeedMobileCode:true,\r\n            },\r\n        },\r\n        messages:{\r\n        },\r\n        submitHandler:function(form){\r\n            //circle load\r\n            $.showShCircle(\"shCircle\");\r\n            $.ajax({\r\n                url:$(\"#add-article-form\").attr(\"action\"),\r\n                type:\"post\",\r\n                dataType:\"json\",\r\n                data:{\r\n                    article_title:$(\"#article-title\").val(),\r\n                    article_key_words:$(\"#article-key-words\").val(),\r\n                    article_from_where:$(\"#article-from-where\").val(),\r\n                    article_abstract:$(\"#article-abstract\").val(),\r\n                    extra_editor:UE.getEditor(\"extra-editor\").getContent(),\r\n                    category_id:$(\"#add-article-form\").attr(\"data-category-id\"),\r\n                },\r\n                success:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    if(jsonData.flag == 1){\r\n                        window.location = $(\"#add-article-form\").attr(\"data-jump\");\r\n                    }else{\r\n                        alert(jsonData.msg);\r\n                    }\r\n                },\r\n                error:function(jsonData){\r\n                    alert(jsonData);\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                }\r\n            });\r\n        },\r\n        errorContainer: \"div.error\",\r\n        errorLabelContainer: $(\"#add-article-form div.error\"),\r\n        wrapper: \"li\",\r\n        errorPlacement: function(error, element) {\r\n            error.appendTo(element.parent());\r\n        }\r\n    });\r\n\r\n    //修改\r\n    $(\"#edit-article-form\").validate({\r\n        rules:{\r\n            user_email:{\r\n                isNeedEmail:true,\r\n            },\r\n            verify_email_code:{\r\n                isNeedEmailCode:true,\r\n            },\r\n            mobile:{\r\n                isNeedMobile:true,\r\n            },\r\n            verify_mobile_code:{\r\n                isNeedMobileCode:true,\r\n            },\r\n        },\r\n        messages:{\r\n        },\r\n        submitHandler:function(form){\r\n            //circle load\r\n            $.showShCircle(\"shCircle\");\r\n            var cid = $(\"#edit-article-form\").attr(\"data-category-id\");\r\n            var aid = $(\"#edit-article-form\").attr(\"article-id\");\r\n            $.ajax({\r\n                url:$(\"#edit-article-form\").attr(\"action\"),\r\n                type:\"post\",\r\n                dataType:\"json\",\r\n                data:{\r\n                    article_title:$(\"#article-title\").val(),\r\n                    article_key_words:$(\"#article-key-words\").val(),\r\n                    article_from_where:$(\"#article-from-where\").val(),\r\n                    article_abstract:$(\"#article-abstract\").val(),\r\n                    extra_editor:UE.getEditor(\"extra-editor\").getContent(),\r\n                    category_id:cid,\r\n                    article_id:aid,\r\n                },\r\n                success:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    if(jsonData.flag == 1){\r\n                        window.location = $(\"#edit-article-form\").attr(\"data-jump\");\r\n                    }else{\r\n                        alert(jsonData.msg);\r\n                    }\r\n                },\r\n                error:function(jsonData){\r\n                    alert(jsonData);\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                }\r\n            });\r\n        },\r\n        errorContainer: \"div.error\",\r\n        errorLabelContainer: $(\"#edit-article-form div.error\"),\r\n        wrapper: \"li\",\r\n        errorPlacement: function(error, element) {\r\n            error.appendTo(element.parent());\r\n        }\r\n    });\r\n\r\n    //历史返回\r\n    $(\"#last-history\").on(\"click\",function(){\r\n        history.go(-1);\r\n    });\r\n});"]}