{"version":3,"sources":["Home/main_list.min.js"],"names":["$","onOpenCategory","root_obj","datas","html","i","length","id","name","parent","siblings","append","__copy","url","dst_category","attr","active_node","delegate","cmd_type","tmp_url","this","hasClass","cid","empty","showShCircle","ajax","method","dataType","data","success","jsonData","closeShCircle","flag","list","addClass","error","remove","console","log","removeClass","css","src_cid_array","active_items","each","n","tmp_id","push","src_cid","dst_cid","window","location","reload","alert","msg","on","tpl","after","category_name","val","children","copyCategory","__rename","__move","moveCategory","__delete","src_category","deleteCategory","copyArticle","renameArticle","moveArticle","deleteArticle","copyFavorites","copyFavoritesCategory","moveFavorites","moveFavoritesCategory","renameFavorites","deleteFavorites","deleteFavoritesCategory","copySoftware","moveSoftware","deleteSoftware","showDailog","categorys","g_active_node","document","event","srcX","offset","left","srcY","top","clientX","clientY","oX","oY","which","on_cmd_req_href","position","find"],"mappings":"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","file":"../../js/Home/main_list.min.js","sourcesContent":["/**\r\n * Created by xf.li on 2017/4/17.\r\n */\r\n$(function(){\r\n    g_active_node = $(document);\r\n    //全局node click事件\r\n    $(\".list-view\").delegate(\".list-view-item\",\"click\",function(){\r\n        if($(this).hasClass(\"item-active\")){\r\n            $(this).removeClass(\"item-active\");\r\n            $(\".list-tools\").css(\"visibility\",\"hidden\");\r\n        }else{\r\n            $(this).addClass(\"item-active\");\r\n            $(\".list-tools\").css(\"visibility\",\"visible\");\r\n        }\r\n        g_active_node = $(this);\r\n    });\r\n\r\n    $(\".first-col >.col-item\").on(\"click\",function(){\r\n        if($(\".list-view-item\").hasClass(\"item-active\")){\r\n            $(\".list-view-item\").removeClass(\"item-active\");\r\n            $(\".check-icon\").parent(\".check\").removeClass(\"checked\");\r\n        }else{\r\n            $(\".list-view-item\").addClass(\"item-active\");\r\n            $(\".check-icon\").parent(\".check\").addClass(\"checked\");\r\n        }\r\n    });\r\n\r\n    //鼠标右键\r\n    $(document).on(\"click\",function(){\r\n        $(\"#menu .list\").css(\"display\",\"none\");\r\n        //恢复原始值\r\n        //var cid = $(\"#menu\").attr(\"data-old-category-id\");\r\n        //$(\"#menu\").attr(\"data-category-id\",cid);\r\n    });\r\n    $(\"#module-list\").on(\"contextmenu\",function(event){\r\n        //event.cancelBubble = true;\r\n        var srcX = $(\".list-view\").offset().left;\r\n        var srcY = $(\".list-view\").offset().top;\r\n        var clientX = event.clientX;\r\n        var clientY = event.clientY;\r\n        var oX = clientX - srcX;\r\n        var oY = clientY - srcY + 54;\r\n        //鼠标右键\r\n        if(event.which == 3){\r\n            //g_active_node = $(this);\r\n            $(\"#menu .list\").css(\"display\",\"block\");\r\n            $(\"#menu .list\").css(\"left\",oX).css(\"top\",oY);\r\n            //event && event.preventDefault ? event.preventDefault()/*W3C*/: window.event.returnValue = false/*IE*/;\r\n        }else{\r\n            $(\"#menu .list\").css(\"display\",\"none\");\r\n        }\r\n        //event.bubbles = false;\r\n        return false;\r\n    });\r\n\r\n    //category鼠标选中响应\r\n    $(\".category\").on(\"mousedown\",function(){\r\n        var cid = $(this).attr(\"_installed\");\r\n        //设置右键菜单，以便响应命令\r\n        $(\"#menu\").attr(\"data-category-id\",cid);\r\n        $(\"#menu\").attr(\"data-cmd-type\",1);\r\n    });\r\n\r\n    //article鼠标选中响应\r\n    $(\".article\").on(\"mousedown\",function(){\r\n        var cid = $(this).attr(\"_installed\");\r\n        //设置右键菜单，以便响应命令\r\n        $(\"#menu\").attr(\"data-category-id\",cid);\r\n        $(\"#menu\").attr(\"data-cmd-type\",2);\r\n    });\r\n\r\n    //favorites鼠标选中响应\r\n    $(\".favorites\").on(\"mousedown\",function(){\r\n        var cid = $(this).attr(\"_installed\");\r\n        //设置右键菜单，以便响应命令\r\n        $(\"#menu\").attr(\"data-category-id\",cid);\r\n        $(\"#menu\").attr(\"data-cmd-type\",3);\r\n    });\r\n\r\n    //favorites-cat鼠标选中响应\r\n    $(\".favorites-cat\").on(\"mousedown\",function(){\r\n        var cid = $(this).attr(\"_installed\");\r\n        //设置右键菜单，以便响应命令\r\n        $(\"#menu\").attr(\"data-category-id\",cid);\r\n        $(\"#menu\").attr(\"data-cmd-type\",4);\r\n    });\r\n\r\n    //software鼠标选中响应\r\n    $(\".software\").on(\"mousedown\",function(){\r\n        var cid = $(this).attr(\"_installed\");\r\n        //设置右键菜单，以便响应命令\r\n        $(\"#menu\").attr(\"data-category-id\",cid);\r\n        $(\"#menu\").attr(\"data-cmd-type\",5);\r\n    });\r\n\r\n    //software-cat鼠标选中响应\r\n    $(\".software-cat\").on(\"mousedown\",function(){\r\n        var cid = $(this).attr(\"_installed\");\r\n        //设置右键菜单，以便响应命令\r\n        $(\"#menu\").attr(\"data-category-id\",cid);\r\n        $(\"#menu\").attr(\"data-cmd-type\",6);\r\n    });\r\n\r\n\r\n    function downloadCategory(){}\r\n\r\n    function onOpenCategory(root_obj,datas){\r\n        var html = '';\r\n        for(var i = 0;i < datas.length; i++){\r\n            html += '<li>'+\r\n                '<div class=\"treeview-node \" _pl=\"15px\" style=\"padding-left:15px\" data-node-id=\"'+datas[i].id+'\">'+\r\n                '<span class=\"treeview-node-handler\">'+\r\n                '<em class=\"b-in-blk plus icon-operate \"></em>'+\r\n                '<dfn class=\"b-in-blk treeview-ic\"></dfn>'+\r\n                '<span class=\"treeview-txt\" node-path=\"/'+datas[i].name+'\">'+datas[i].name+'</span>'+\r\n            '</span>'+\r\n            '</div>'+\r\n            '<ul class=\"treeview treeview-content treeview-collapse\" _pl=\"30px\">'+\r\n                '</ul>'+\r\n                '</li>';\r\n        }\r\n        if(html.length > 0){\r\n            $(root_obj).parent(\"span\").parent(\"div\").siblings(\"ul\").append(html);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function __copy(url){\r\n        var src_category = $(\"#menu\").attr(\"data-category-id\");\r\n        var dst_category = -1;\r\n        var active_node = $(\".treeview-node-on\");\r\n        //设置复制对话框\r\n        $(\"#fileTreeDialog .dialog-header-title.select-text\").html(\"复制到\");\r\n        $(\"#fileTreeDialog\").delegate(\".plus\",\"click\",function(){\r\n            //console.log(\"I am here\");\r\n            var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n            var tmp_url = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n            tmp_url += \"/openCategory\";\r\n            if(4 == cmd_type){\r\n                tmp_url = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n                tmp_url += \"/openFavoritesCategory\";\r\n            }else if(6 == cmd_type){\r\n                tmp_url = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n                tmp_url += \"/openSoftwareCategory\";\r\n            }\r\n            if($(this).hasClass(\"minus\")){\r\n                //$(this).removeClass(\"minus\");\r\n                return;\r\n            }\r\n            var root_obj = $(this);\r\n            var cid = $(this).parent(\"span\").parent(\"div\").attr(\"data-node-id\");\r\n            $(this).parent(\"span\").parent(\"div\").siblings(\"ul\").empty();\r\n\r\n            //circle load\r\n            $.showShCircle(\"shCircle\");\r\n\r\n            $.ajax({\r\n                url:tmp_url,\r\n                method:\"post\",\r\n                dataType:\"json\",\r\n                data:{\r\n                    cid:cid,\r\n                },\r\n                success:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    if(jsonData.flag == 1){\r\n                        if(onOpenCategory(root_obj,jsonData.list)){\r\n                            $(root_obj).addClass(\"minus\");\r\n                        }\r\n                    }else{\r\n                        //alert(jsonData.msg);\r\n                    }\r\n                },\r\n                error:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    $(\".plus-createFolder\").remove();\r\n                    console.log(jsonData);\r\n                }\r\n            });\r\n        });\r\n        $(\"#fileTreeDialog\").delegate(\".minus\",\"click\",function(){\r\n            $(this).parent(\"span\").parent(\"div\").siblings(\"ul\").empty();\r\n            $(this).removeClass(\"minus\");\r\n        });\r\n\r\n        $(\"#fileTreeDialog\").css(\"display\",\"block\");\r\n        $(\"#fileTreeDialog\").css(\"visibility\",\"visible\");\r\n\r\n        //复制对话框的关闭和取消\r\n        $(\"#fileTreeDialog\").delegate(\".btn-cancel,.dialog-close\",\"click\",function(){\r\n            $(\"#fileTreeDialog\").css(\"display\",\"none\");\r\n            $(\"#fileTreeDialog\").css(\"visibility\",\"hidden\");\r\n        });\r\n        //复制对话框的确定复制\r\n        $(\"#fileTreeDialog\").delegate(\".btn-sure\",\"click\",function(){\r\n            //var url = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n            //url += \"/copyCategory\";\r\n            var src_cid_array = [];\r\n            var active_items = $(\".item-active\");\r\n            $.each($(active_items),function(i,n){\r\n                console.log(\"item:\"+i+\" = \"+n);\r\n                var tmp_id = $(n).attr(\"_installed\");\r\n                src_cid_array.push(tmp_id);\r\n            });\r\n            //return;\r\n            console.log(\"url=\"+url);\r\n            //circle load\r\n            $.showShCircle(\"shCircle\");\r\n            $.ajax({\r\n                url:url,\r\n                method:\"post\",\r\n                dataType:\"json\",\r\n                data:{\r\n                    src_cid:src_cid_array,\r\n                    dst_cid:dst_category,\r\n                },\r\n                success:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n\r\n                    $(\"#fileTreeDialog\").css(\"display\",\"none\");\r\n                    $(\"#fileTreeDialog\").css(\"visibility\",\"hidden\");\r\n                    if(jsonData.flag == 1){\r\n                        //alert(jsonData.msg);\r\n                        window.location.reload();\r\n                    }else{\r\n                        alert(jsonData.msg);\r\n                    }\r\n                },\r\n                error:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n\r\n                    $(\"#fileTreeDialog\").css(\"display\",\"none\");\r\n                    $(\"#fileTreeDialog\").css(\"visibility\",\"hidden\");\r\n                    console.log(jsonData);\r\n                }\r\n            });\r\n        });\r\n        //$(\"#fileTreeDialog .btn-sure\").on(\"click\",function(){});\r\n        $(\"#fileTreeDialog .btn-new-dir\").on(\"click\",function(){\r\n            var tpl = $(\"#copy-new-dir\").html();\r\n\r\n            active_node.parent(\"li\").after(tpl);\r\n            //确定新建文件夹\r\n            $(\"#fileTreeDialog .sure\").delegate(\"click\",function(){\r\n                var url = $(\"#copy-new-dir\").attr(\"data-post\");\r\n                //circle load\r\n                $.showShCircle(\"shCircle\");\r\n                $.ajax({\r\n                    url:url,\r\n                    method:\"post\",\r\n                    dataType:\"json\",\r\n                    data:{\r\n                        category_name:$(\".plus-createFolder ._disk_id_4\").val(),\r\n                        cid:dst_category,\r\n                    },\r\n                    success:function(jsonData){\r\n                        //circle load\r\n                        $.closeShCircle(\"shCircle\");\r\n                        $(\".plus-createFolder\").remove();\r\n                        if(jsonData.flag == 1){\r\n                            $(active_node).parent(\"li\").children(\"plus\").addClass(\"minus\");\r\n                            active_node.removeClass(\"treeview-node-on\");\r\n                            dst_category = jsonData.list.cid;\r\n                            var html = '<li>'+\r\n                                '<div class=\"treeview-node treeview-node-on\" _pl=\"15px\" style=\"padding-left:15px\" data-node-id=\"'+jsonData.list.cid+'\">'+\r\n                                '<span class=\"treeview-node-handler\">'+\r\n                                '<em class=\"b-in-blk plus icon-operate \"></em>'+\r\n                                '<dfn class=\"b-in-blk treeview-ic\"></dfn>'+\r\n                                '<span class=\"treeview-txt\" node-path=\"/'+jsonData.list.name+'\">'+jsonData.list.name+'</span>'+\r\n                            '</span>'+\r\n                            '</div>'+\r\n                            '<ul class=\"treeview treeview-content treeview-collapse\" _pl=\"30px\">'+\r\n                                '</ul>'+\r\n                                '</li>';\r\n                            active_node.parent(\"li\").children(\"ul\").append(html);\r\n                        }else{\r\n                            alert(jsonData.msg);\r\n                        }\r\n                    },\r\n                    error:function(jsonData){\r\n                        //circle load\r\n                        $.closeShCircle(\"shCircle\");\r\n                        $(\".plus-createFolder\").remove();\r\n                        console.log(jsonData);\r\n                    }\r\n                });\r\n            });\r\n            //取消创建文件夹\r\n            $(\"#fileTreeDialog .cancel\").on(\"click\",function(){\r\n                $(\".plus-createFolder\").remove();\r\n            });\r\n        });\r\n\r\n        $(\"#fileTreeDialog\").delegate(\".treeview-node\",\"click\",function(){\r\n            $(\"#fileTreeDialog .treeview-node-on\").removeClass(\"treeview-node-on\");\r\n            dst_category = $(this).attr(\"data-node-id\");\r\n            $(this).addClass(\"treeview-node-on\");\r\n            active_node = $(this);\r\n        });\r\n    }\r\n\r\n    function copyCategory(url){\r\n        __copy(url);\r\n    }\r\n\r\n    function __rename(url){\r\n        //var src_category = $(\"#menu\").attr(\"data-category-id\");\r\n        ////确定编辑\r\n        //$(\".update-dir-item .sure-to-rename\").on(\"click\",function(event){\r\n        //    event.preventDefault();\r\n        //    //var url = $(\"#new-dir-box\").attr(\"data-post\");\r\n        //    //var src_category = $(\"#menu\").attr(\"data-category-id\");\r\n        //    console.log(\"name=\"+$(\"#new-dir-box\").val());\r\n        //    console.log(\"src_category=\"+src_category);\r\n        //    $.ajax({\r\n        //        url:url,\r\n        //        method:\"post\",\r\n        //        dataType:\"json\",\r\n        //        data:{\r\n        //            \"category_name\":$(\"#update-dir-box\").val(),\r\n        //            \"src_category\":src_category,\r\n        //        },\r\n        //        async:false,\r\n        //        cache:false,\r\n        //        success:function(jsonData){\r\n        //            $(\".module-edit-name\").css(\"display\",\"none\");\r\n        //            if(jsonData.flag == 1){\r\n        //                window.location.reload();\r\n        //            }else{\r\n        //                //alert(jsonData.msg);\r\n        //            }\r\n        //        },\r\n        //        error:function(jsonData){\r\n        //            $(\".module-edit-name\").css(\"display\",\"none\");\r\n        //            console.log(jsonData);\r\n        //        }\r\n        //    });\r\n        //    //event.bubbles = false;\r\n        //    //return false;\r\n        //});\r\n        ////取消编辑\r\n        //$(\".new-dir-item .cancel\").on(\"click\",function(){\r\n        //    $(\".module-edit-name\").css(\"display\",\"none\");\r\n        //    window.location.reload();\r\n        //});\r\n    }\r\n\r\n    function __move(url){\r\n        var src_category = $(\"#menu\").attr(\"data-category-id\");\r\n        var dst_category = -1;\r\n        var active_node = $(\".treeview-node-on\");\r\n        //设置复制对话框\r\n        $(\"#fileTreeDialog .dialog-header-title.select-text\").html(\"移动到\");\r\n        $(\"#fileTreeDialog\").delegate(\".plus\",\"click\",function(){\r\n            //console.log(\"I am here\");\r\n            var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n            var tmp_url = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n            tmp_url += \"/openCategory\";\r\n            if(4 == cmd_type){\r\n                tmp_url = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n                tmp_url += \"/openFavoritesCategory\";\r\n            }else if(6 == cmd_type){\r\n                tmp_url = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n                tmp_url += \"/openSoftwareCategory\";\r\n            }\r\n            if($(this).hasClass(\"minus\")){\r\n                //$(this).removeClass(\"minus\");\r\n                return;\r\n            }\r\n            var root_obj = $(this);\r\n            var cid = $(this).parent(\"span\").parent(\"div\").attr(\"data-node-id\");\r\n            $(this).parent(\"span\").parent(\"div\").siblings(\"ul\").empty();\r\n            //circle load\r\n            $.showShCircle(\"shCircle\");\r\n\r\n            $.ajax({\r\n                url:tmp_url,\r\n                method:\"post\",\r\n                dataType:\"json\",\r\n                data:{\r\n                    cid:cid,\r\n                },\r\n                success:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    if(jsonData.flag == 1){\r\n                        if(onOpenCategory(root_obj,jsonData.list)){\r\n                            $(root_obj).addClass(\"minus\");\r\n                        }\r\n                    }else{\r\n                        //alert(jsonData.msg);\r\n                    }\r\n                },\r\n                error:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    $(\".plus-createFolder\").remove();\r\n                    console.log(jsonData);\r\n                }\r\n            });\r\n        });\r\n        $(\"#fileTreeDialog\").delegate(\".minus\",\"click\",function(){\r\n            $(this).parent(\"span\").parent(\"div\").siblings(\"ul\").empty();\r\n            $(this).removeClass(\"minus\");\r\n        });\r\n\r\n        $(\"#fileTreeDialog\").css(\"display\",\"block\");\r\n        $(\"#fileTreeDialog\").css(\"visibility\",\"visible\");\r\n\r\n        //复制对话框的关闭和取消\r\n        $(\"#fileTreeDialog\").delegate(\".btn-cancel,.dialog-close\",\"click\",function(){\r\n            $(\"#fileTreeDialog\").css(\"display\",\"none\");\r\n            $(\"#fileTreeDialog\").css(\"visibility\",\"hidden\");\r\n        });\r\n        //复制对话框的确定复制\r\n        $(\"#fileTreeDialog\").delegate(\".btn-sure\",\"click\",function(){\r\n            //var url = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n            //url += \"/copyCategory\";\r\n            var src_cid_array = [];\r\n            var active_items = $(\".item-active\");\r\n            $.each($(active_items),function(i,n){\r\n                console.log(\"item:\"+i+\" = \"+n);\r\n                var tmp_id = $(n).attr(\"_installed\");\r\n                src_cid_array.push(tmp_id);\r\n            });\r\n            //return;\r\n            console.log(\"url=\"+url);\r\n            //circle load\r\n            $.showShCircle(\"shCircle\");\r\n            $.ajax({\r\n                url:url,\r\n                method:\"post\",\r\n                dataType:\"json\",\r\n                data:{\r\n                    src_cid:src_cid_array,\r\n                    dst_cid:dst_category,\r\n                },\r\n                success:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    $(\"#fileTreeDialog\").css(\"display\",\"none\");\r\n                    $(\"#fileTreeDialog\").css(\"visibility\",\"hidden\");\r\n                    if(jsonData.flag == 1){\r\n                        //alert(jsonData.msg);\r\n                        window.location.reload();\r\n                    }else{\r\n                        //alert(jsonData.msg);\r\n                    }\r\n                },\r\n                error:function(jsonData){\r\n                    //circle load\r\n                    $.closeShCircle(\"shCircle\");\r\n                    $(\"#fileTreeDialog\").css(\"display\",\"none\");\r\n                    $(\"#fileTreeDialog\").css(\"visibility\",\"hidden\");\r\n                    console.log(jsonData);\r\n                }\r\n            });\r\n        });\r\n        $(\"#fileTreeDialog .btn-new-dir\").on(\"click\",function(){\r\n            var tpl = $(\"#copy-new-dir\").html();\r\n\r\n            active_node.parent(\"li\").after(tpl);\r\n            //确定新建文件夹\r\n            $(\"#fileTreeDialog .sure\").delegate(\"click\",function(){\r\n                var url = $(\"#copy-new-dir\").attr(\"data-post\");\r\n                //circle load\r\n                $.showShCircle(\"shCircle\");\r\n                $.ajax({\r\n                    url:url,\r\n                    method:\"post\",\r\n                    dataType:\"json\",\r\n                    data:{\r\n                        category_name:$(\".plus-createFolder ._disk_id_4\").val(),\r\n                        cid:dst_category,\r\n                    },\r\n                    success:function(jsonData){\r\n                        //circle load\r\n                        $.closeShCircle(\"shCircle\");\r\n                        $(\".plus-createFolder\").remove();\r\n                        if(jsonData.flag == 1){\r\n                            $(active_node).parent(\"li\").children(\"plus\").addClass(\"minus\");\r\n                            active_node.removeClass(\"treeview-node-on\");\r\n                            dst_category = jsonData.list.cid;\r\n                            var html = '<li>'+\r\n                                '<div class=\"treeview-node treeview-node-on\" _pl=\"15px\" style=\"padding-left:15px\" data-node-id=\"'+jsonData.list.cid+'\">'+\r\n                                '<span class=\"treeview-node-handler\">'+\r\n                                '<em class=\"b-in-blk plus icon-operate \"></em>'+\r\n                                '<dfn class=\"b-in-blk treeview-ic\"></dfn>'+\r\n                                '<span class=\"treeview-txt\" node-path=\"/'+jsonData.list.name+'\">'+jsonData.list.name+'</span>'+\r\n                                '</span>'+\r\n                                '</div>'+\r\n                                '<ul class=\"treeview treeview-content treeview-collapse\" _pl=\"30px\">'+\r\n                                '</ul>'+\r\n                                '</li>';\r\n                            active_node.parent(\"li\").children(\"ul\").append(html);\r\n                        }else{\r\n                            //alert(jsonData.msg);\r\n                        }\r\n                    },\r\n                    error:function(jsonData){\r\n                        //circle load\r\n                        $.closeShCircle(\"shCircle\");\r\n                        $(\".plus-createFolder\").remove();\r\n                        console.log(jsonData);\r\n                    }\r\n                });\r\n            });\r\n            //取消创建文件夹\r\n            $(\"#fileTreeDialog .cancel\").on(\"click\",function(){\r\n                $(\".plus-createFolder\").remove();\r\n            });\r\n        });\r\n\r\n        $(\"#fileTreeDialog\").delegate(\".treeview-node\",\"click\",function(){\r\n            $(\"#fileTreeDialog .treeview-node-on\").removeClass(\"treeview-node-on\");\r\n            dst_category = $(this).attr(\"data-node-id\");\r\n            $(this).addClass(\"treeview-node-on\");\r\n            active_node = $(this);\r\n        });\r\n    }\r\n\r\n    function moveCategory(url){\r\n        __move(url);\r\n    }\r\n\r\n    function renameCategory(url){\r\n        __rename(url);\r\n    }\r\n\r\n    function __delete(url){\r\n        var src_category = $(\"#menu\").attr(\"data-category-id\");\r\n        //circle load\r\n        $.showShCircle(\"shCircle\");\r\n        $.ajax({\r\n            url:url,\r\n            method:\"post\",\r\n            dataType:\"json\",\r\n            data:{\r\n                src_category:src_category,\r\n            },\r\n            success:function(jsonData){\r\n                //circle load\r\n                $.closeShCircle(\"shCircle\");\r\n                $(\".module-edit-name\").css(\"display\",\"none\");\r\n                if(jsonData.flag == 1){\r\n                    window.location.reload();\r\n                }else{\r\n                    //alert(jsonData.msg);\r\n                }\r\n            },\r\n            error:function(jsonData){\r\n                //circle load\r\n                $.closeShCircle(\"shCircle\");\r\n                $(\".module-edit-name\").css(\"display\",\"none\");\r\n                console.log(jsonData);\r\n            }\r\n        });\r\n    }\r\n\r\n    function deleteCategory(url){\r\n        __delete(url);\r\n    }\r\n\r\n    function openArticle(){}\r\n\r\n    function downloadArticle(){}\r\n\r\n    function copyArticle(url){\r\n        __copy(url);\r\n    }\r\n\r\n    function renameArticle(url){\r\n        __rename(url);\r\n    }\r\n\r\n    function moveArticle(url){\r\n        __move(url);\r\n    }\r\n\r\n    function updateArticle(){}\r\n\r\n    function deleteArticle(url){\r\n        __delete(url);\r\n    }\r\n\r\n    function copyFavorites(url){\r\n        __copy(url);\r\n    }\r\n\r\n    function copyFavoritesCategory(url){\r\n        __copy(url);\r\n    }\r\n\r\n    function moveFavorites(url){\r\n        __move(url);\r\n    }\r\n\r\n    function moveFavoritesCategory(url){\r\n        __move(url);\r\n    }\r\n\r\n    function renameFavorites(url){\r\n        __rename(url);\r\n    }\r\n\r\n    function renameFavoritesCategory(url){\r\n        __rename(url);\r\n    }\r\n\r\n    function deleteFavorites(url){\r\n        __delete(url);\r\n    }\r\n\r\n    function deleteFavoritesCategory(url){\r\n        __delete(url);\r\n    }\r\n\r\n    function copySoftware(url){\r\n        __copy(url);\r\n    }\r\n\r\n    function moveSoftware(url){\r\n        __move(url);\r\n    }\r\n\r\n    function deleteSoftware(url){\r\n        __delete(url);\r\n    }\r\n\r\n    function showDailog(){\r\n        var url = $(\"#fileTreeDialog\").attr(\"data-self\");\r\n        //circle load\r\n        $.showShCircle(\"shCircle\");\r\n        $.ajax({\r\n            url:url,\r\n            method:\"post\",\r\n            dataType:\"json\",\r\n            data:{\r\n                cid:-1,\r\n            },\r\n            success:function(jsonData){\r\n                //circle load\r\n                $.closeShCircle(\"shCircle\");\r\n                if(jsonData.flag == 1){\r\n                    var html = '';\r\n                    var categorys = jsonData.list.categorys;\r\n                    for(var i = 0; i < categorys.length; i++){\r\n                        html += '<li>'+\r\n                            '<div class=\"treeview-node \" _pl=\"15px\" style=\"padding-left:15px\" data-node-id=\"'+categorys[i].id+'\">'+\r\n                            '<span class=\"treeview-node-handler\">'+\r\n                            '<em class=\"b-in-blk plus icon-operate \"></em>'+\r\n                            '<dfn class=\"b-in-blk treeview-ic\"></dfn>'+\r\n                            '<span class=\"treeview-txt\" node-path=\"/' + categorys[i].name +'\">'+categorys[i].name+'</span>'+\r\n                            '</span>'+\r\n                            '</div>'+\r\n                            '<ul class=\"treeview treeview-content treeview-collapse\" _pl=\"30px\">'+\r\n                            '</ul>'+\r\n                            '</li>';\r\n                    }\r\n                    $(\"#fileTreeDialog .treeview-root-content\").html(html);\r\n                }else{\r\n                    //alert(jsonData.msg);\r\n                }\r\n            },\r\n            error:function(jsonData){\r\n                //circle load\r\n                $.closeShCircle(\"shCircle\");\r\n                $(\".plus-createFolder\").remove();\r\n                console.log(jsonData);\r\n            }\r\n        });\r\n    }\r\n\r\n    //菜单打开命令\r\n    $(\"#open-menu\").on(\"click\",function(){\r\n        var on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n        var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n        var cid = $(\"#menu\").attr(\"data-category-id\");\r\n        if(1 == cmd_type){\r\n            var url = on_cmd_req_href + \"/openCategory\";\r\n            url += \"/cid/\" + cid;\r\n            window.location = url;\r\n        }else if(2 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-file\");\r\n            var url = on_cmd_req_href + \"/openArticle\";\r\n            url += \"/aid/\" + cid;\r\n            window.location = url;\r\n        }else if(3 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/openFavorites\";\r\n            url += \"/cid/\" + cid;\r\n            window.location = url;\r\n        }else if(4 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/openFavoritesCategory\";\r\n            url += \"/cid/\" + cid;\r\n            window.location = url;\r\n        }else if(5 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/openSoftware\";\r\n            url += \"/cid/\" + cid;\r\n            window.location = url;\r\n        }else if(6 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/openSoftwareCategory\";\r\n            url += \"/cid/\" + cid;\r\n            window.location = url;\r\n        }\r\n    });\r\n\r\n    //菜单下载命令\r\n    $(\"#download-menu\").on(\"click\",function(){\r\n        var on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n        var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n        if(1 == cmd_type){\r\n            var url = on_cmd_req_href + \"/downloadCategory\";\r\n        }else if(2 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-file\");\r\n            var url = on_cmd_req_href + \"/downloadArticle\";\r\n        }else if(3 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/downloadFavorites\";\r\n        }else if(4 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/downloadFavorites\";\r\n        }else if(5 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/downloadSoftware\";\r\n        }\r\n    });\r\n\r\n    //菜单复制命令\r\n    $(\"#copy-menu\").on(\"click\",function(){\r\n        var on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n        var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n        showDailog();\r\n        if(1 == cmd_type){\r\n            var url = on_cmd_req_href + \"/copyCategory\";\r\n            copyCategory(url);\r\n        }else if(2 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-file\");\r\n            var url = on_cmd_req_href + \"/copyArticle\";\r\n            copyArticle(url);\r\n        }else if(3 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/copyFavorites\";\r\n            copyFavorites(url);\r\n        }else if(4 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/copyFavoritesCategory\";\r\n            copyFavoritesCategory(url);\r\n        }else if(5 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/copySoftware\";\r\n            copySoftware(url);\r\n        }else if(6 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/copySoftwareCategory\";\r\n            copySoftware(url);\r\n        }\r\n    });\r\n\r\n    //菜单移动命令\r\n    $(\"#move-menu\").on(\"click\",function(){\r\n        var on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n        var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n        if(1 == cmd_type){\r\n            var url = on_cmd_req_href + \"/moveCategory\";\r\n            moveCategory(url);\r\n        }else if(2 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-file\");\r\n            var url = on_cmd_req_href + \"/moveArticle\";\r\n            moveArticle(url);\r\n        }else if(3 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/moveFavorites\";\r\n            moveFavorites(url);\r\n        }else if(4 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/moveFavoritesCategory\";\r\n            moveFavoritesCategory(url);\r\n        }else if(5 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/moveSoftware\";\r\n            moveSoftware(url);\r\n        }else if(6 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/moveSoftwareCategory\";\r\n            moveSoftware(url);\r\n        }\r\n    });\r\n\r\n    //菜单重命名命令\r\n    $(\"#rename-menu\").on(\"click\",function(event){\r\n        var on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n        var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n        var srcX = $(g_active_node).position().left; //g_active_node.offset().left;\r\n        var srcY = $(g_active_node).position().top; //g_active_node.offset().top;\r\n        var clientX = event.clientX;\r\n        var clientY = event.clientY;\r\n        var oX = srcX + 20; //clientX - srcX - 26 - 26 - 26;\r\n        var oY = srcY + 44 + 15; //clientY - srcY - 45;\r\n        var category_name = $(g_active_node).find(\".filename\").html();\r\n        if(category_name != \"undefined\"){\r\n            $(\"#new-dir-box\").val(category_name);\r\n        }\r\n        $(\".module-edit-name\").css(\"display\",\"block\");\r\n        $(\".module-edit-name\").css(\"left\",oX+\"px\");\r\n        $(\".module-edit-name\").css(\"top\",oY+\"px\");\r\n\r\n        if(1 == cmd_type){\r\n            var url = on_cmd_req_href + \"/renameCategory\";\r\n            $(\"#new-dir-box\").attr(\"data-post\",url);\r\n            ///renameCategory(url);\r\n            //$(\"#new-dir-box\").attr(\"data-post\",url);\r\n        }else if(2 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-file\");\r\n            var url = on_cmd_req_href + \"/renameArticle\";\r\n            $(\"#new-dir-box\").attr(\"data-post\",url);\r\n            renameArticle(url);\r\n        }else if(3 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/renameFavorites\";\r\n            $(\"#new-dir-box\").attr(\"data-post\",url);\r\n            renameFavorites(url);\r\n        }else if(4 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/renameFavoritesCategory\";\r\n            $(\"#new-dir-box\").attr(\"data-post\",url);\r\n            //renameFavoritesCategory(url);\r\n        }else if(5 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/renameSoftware\";\r\n            $(\"#new-dir-box\").attr(\"data-post\",url);\r\n        }else if(6 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/renameSoftwareCategory\";\r\n            $(\"#new-dir-box\").attr(\"data-post\",url);\r\n        }\r\n    });\r\n\r\n    //菜单删除命令\r\n    $(\"#delete-menu\").on(\"click\",function(){\r\n        var on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-cat\");\r\n        var cmd_type = $(\"#menu\").attr(\"data-cmd-type\");\r\n        if(1 == cmd_type){\r\n            var url = on_cmd_req_href + \"/deleteCategory\";\r\n            deleteCategory(url);\r\n        }else if(2 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-file\");\r\n            var url = on_cmd_req_href + \"/deleteArticle\";\r\n            deleteArticle(url);\r\n        }else if(3 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/deleteFavorites\";\r\n            deleteFavorites(url);\r\n        }else if(4 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-fav\");\r\n            var url = on_cmd_req_href + \"/deleteFavoritesCategory\";\r\n            deleteFavoritesCategory(url);\r\n        }else if(5 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/deleteSoftware\";\r\n            deleteSoftware(url);\r\n        }else if(6 == cmd_type){\r\n            on_cmd_req_href = $(\"#menu\").attr(\"data-on-cmd-req-software\");\r\n            var url = on_cmd_req_href + \"/deleteSoftwareCategory\";\r\n            deleteSoftware(url);\r\n        }\r\n    });\r\n});"]}