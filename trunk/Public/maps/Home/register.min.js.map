{"version":3,"sources":["Home/register.min.js"],"names":["$","document","ready","openwin","url","a","createElement","setAttribute","body","appendChild","click","validate","rules","user_email","required","email","email_password","email_repeat_password","equalTo","email_verify","messages","submitHandler","form","showShCircle","ajax","attr","type","dataType","data","val","md5","success","jsonData","closeShCircle","flag","after_fix","split","jump_url","alert","msg","error","console","log","errorContainer","errorLabelContainer","wrapper","errorPlacement","element","appendTo","parent"],"mappings":"AAGAA,EAAEC,UAAUC,MAAM,WACd,QAASC,GAAQC,GACb,GAAIC,GAAIJ,SAASK,cAAc,IAC/BD,GAAEE,aAAa,OAAQH,GACvBC,EAAEE,aAAa,SAAU,UACzBF,EAAEE,aAAa,KAAM,WACrBN,SAASO,KAAKC,YAAYJ,GAC1BA,EAAEK,QAGNV,EAAE,kBAAkBW,UAChBC,OAEIC,YACIC,UAAS,EACTC,OAAM,GAEVC,gBACIF,UAAS,GAEbG,uBACIH,UAAS,EACTI,QAAQ,mBAEZC,cACIL,UAAS,IAGjBM,UACIP,WAAW,SACXG,eAAe,eACfC,sBAAsB,WACtBE,aAAa,SAEjBE,cAAc,SAASC,GAEnBtB,EAAEuB,aAAa,YACfvB,EAAEwB,MACEpB,IAAIJ,EAAE,kBAAkByB,KAAK,UAC7BC,KAAK,OACLC,SAAS,OACTC,MACIf,WAAWb,EAAE,eAAe6B,MAC5Bb,eAAgBhB,EAAE8B,IAAI9B,EAAE,mBAAmB6B,OAC3CZ,sBAAuBjB,EAAE8B,IAAI9B,EAAE,0BAA0B6B,OACzDV,aAAanB,EAAE,iBAAiB6B,OAEpCE,QAAQ,SAASC,GAGb,GADAhC,EAAEiC,cAAc,YACI,GAAjBD,EAASE,KAAU,CAClB,GAAI9B,GAAMJ,EAAE,eAAe6B,MACvBM,EAAY/B,EAAIgC,MAAM,KAAK,GAC3BC,EAAW,eAAiBF,CAChChC,GAAQkC,OAGRC,OAAMN,EAASO,MAGvBC,MAAM,SAASR,GAEXhC,EAAEiC,cAAc,YAChBQ,QAAQC,IAAIV,OAIxBW,eAAgB,YAChBC,oBAAqB5C,EAAE,4BACvB6C,QAAS,KACTC,eAAgB,SAASN,EAAOO,GAC5BP,EAAMQ,SAASD,EAAQE","file":"../../js/Home/register.min.js","sourcesContent":["/**\n * Created by lixiongfeng on 16/8/10.\n */\n$(document).ready(function(){\n    function openwin(url) {\n        var a = document.createElement(\"a\");\n        a.setAttribute(\"href\", url);\n        a.setAttribute(\"target\", \"_blank\");\n        a.setAttribute(\"id\", \"openwin\");\n        document.body.appendChild(a);\n        a.click();\n    }\n\n    $(\"#register-form\").validate({\n        rules:{\n            //邮箱注册\n            user_email:{\n                required:true,\n                email:true,\n            },\n            email_password:{\n                required:true,\n            },\n            email_repeat_password:{\n                required:true,\n                equalTo:\"#email-password\",\n            },\n            email_verify:{\n                required:true,\n            },\n        },\n        messages:{\n            user_email:\"邮箱格式不对\",\n            email_password:\"密码不能为空,最短为6位\",\n            email_repeat_password:\"两次输入密码不同\",\n            email_verify:\"验证码不对\",\n        },\n        submitHandler:function(form){\n            //circle load\n            $.showShCircle(\"shCircle\");\n            $.ajax({\n                url:$(\"#register-form\").attr(\"action\"),\n                type:\"post\",\n                dataType:\"json\",\n                data:{\n                    user_email:$(\"#user-email\").val(),\n                    email_password: $.md5($(\"#email-password\").val()),\n                    email_repeat_password: $.md5($(\"#email-repeat-password\").val()),\n                    email_verify:$(\"#email-verify\").val()\n                },\n                success:function(jsonData){\n                    //circle load\n                    $.closeShCircle(\"shCircle\");\n                    if(jsonData.flag == 1){\n                        var url = $(\"#user-email\").val();\n                        var after_fix = url.split(\"@\")[1];\n                        var jump_url = \"http://mail.\" + after_fix;\n                        openwin(jump_url);\n                        //window.location = $(\"#register-form\").attr(\"data-jump\");\n                    }else{\n                        alert(jsonData.msg);\n                    }\n                },\n                error:function(jsonData){\n                    //circle load\n                    $.closeShCircle(\"shCircle\");\n                    console.log(jsonData);\n                }\n            });\n        },\n        errorContainer: \"div.error\",\n        errorLabelContainer: $(\"#register-form div.error\"),\n        wrapper: \"li\",\n        errorPlacement: function(error, element) {\n            error.appendTo(element.parent());\n        }\n    });\n});"]}