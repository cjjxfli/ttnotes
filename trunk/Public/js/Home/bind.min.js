$(document).ready(function(){$("#binding-email").on("click",function(e){e.preventDefault(),$.ajax({url:$(this).attr("data-href"),method:"post",dataType:"json",data:{email:$("#binding-email-txt").val()},success:function(e){1==e.flag?alert(e.msg):alert(e.msg)},error:function(e){console.log(e)}})}),jQuery.validator.addMethod("isNeedMobile",function(e,t){if($("input[type=text][name='mobile']").hasClass("disabled"))return!0;var a=/^13\d{5,9}$/,i=/^15\d{5,9}$/,r=/^189\d{4,8}$/,o=/^0\d{10,11}$/,n=!1;return a.test(e)&&(n=!0),i.test(e)&&(n=!0),r.test(e)&&(n=!0),o.test(e)&&(n=!0),!(""!=e&&!n)&&(this.optional(t)||!0)},"请输入合法的手机号和手机验证码"),jQuery.validator.addMethod("isNeedEmail",function(e,t){if(!$("input[type=text][name='user_email']").hasClass("disabled")){var a=/^[_a-zA-Z0-9\-]+(\.[_a-zA-Z0-9\-]*)*@[a-zA-Z0-9\-]+([\.][a-zA-Z0-9\-]+)+$/;return!(""!=e&&!a.test(e))&&(this.optional(t)||!0)}return!0},"请输入合法的邮箱地址"),jQuery.validator.addMethod("isNeedMobileCode",function(e,t){if($("input[type=text][name='mobile']").hasClass("disabled"))return!0;var a=/^([a-zA-Z0-9]+)$/;return this.optional(t)||a.test(e)||4!=e.length()},"请输入4位手机验证码"),jQuery.validator.addMethod("isNeedEmailCode",function(e,t){if(!$("input[type=text][name='user_email']").hasClass("disabled")){var a=/^([a-zA-Z0-9]+)$/;return this.optional(t)||a.test(e)||6!=e.length()}return!0},"请输入6位邮箱验证码"),$("#bind-form").validate({rules:{user_email:{isNeedEmail:!0},verify_email_code:{isNeedEmailCode:!0},mobile:{isNeedMobile:!0},verify_mobile_code:{isNeedMobileCode:!0}},messages:{},submitHandler:function(e){$.ajax({url:$("#bind-form").attr("action"),type:"post",dataType:"json",data:{user_mobile:$("#mobile").val(),user_mobile_verify:$("#verify-mobile-code").val(),user_email:$("#binding-email-txt").val(),verify_email_code:$("#verify-email-code").val()},success:function(e){1==e.flag?window.location.reload():alert(e.msg)},error:function(e){alert(e)}})},errorContainer:"div.error",errorLabelContainer:$("#bind-form div.error"),wrapper:"li",errorPlacement:function(e,t){e.appendTo(t.parent())}})});
//# sourceMappingURL=../../maps/Home/bind.min.js.map
